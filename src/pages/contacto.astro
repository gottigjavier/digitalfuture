---
import Layout from "../layouts/Layout.astro";

if (Astro.request.method === "POST") {
    try {
      const data = await Astro.request.formData();
      const name = data.get("name");
      const email = data.get("email");
      const tel = data.get("tel");
      const mytext = data.get("mytext");
      // Do something with the data
      console.log("Implementar el envío de los datos");
    } catch (error) {
      if (error instanceof Error) {
        console.error(error.message);
      }
    }
  }
---

<Layout title="Digital Future">
        <div class="form-content">
            <div class="form-header">
                <!-- <span class="close">&times;</span> -->
                <h2>Datos de Contacto</h2>
            </div>
            <div class="form-body">
                <form method="POST">
                    <label>
                        Nombre:
                        <p>
                            <input type="text" name="name" required />
                        </p>
                    </label>
                    <label>
                        Correo electrónico:
                        <p>
                            <input type="email" name="email" required />
                        </p>
                    </label>
                    <label>
                        Teléfono:
                        <p>
                            <input type="tel" name="tel" minlength="7" />
                        </p>
                    </label>
                    <label>
                        Motivo de Contacto:
                        <p>
                            <textarea
                                id="mytext"
                                name="mytext"
                                maxlength="500"
                                wrap="soft"
                                cols="20"
                                rows="3"></textarea>
                        </p>
                    </label>
                    <p>
                        <button class="send">Enviar</button>
                    </p>
                </form>
            </div>
            <div class="form-footer text-center">
                <h3>Lea nuestros <a href="legales">Téminos y Condiciones</a> para saber cómo tratamos sus datos.</h3>
            </div>
        </div>
</Layout>

<style>
    /* form Content */
    .form-content {
        margin:1vh 25vw 5vh 25vw; /* Location of the box */
        position: relative;
        background-color: #363636;
        padding: 0.5rem;
        border: 2px solid #7a7a7a;
        border-radius: 1%;
        box-shadow:
        0 2px 3px 0 rgba(18, 18, 182, 0.54), 
        0 2px 3px 0 rgba(14, 11, 119, 0.49);
        -webkit-animation-name: animatetop;
        -webkit-animation-duration: 0.6s;
        animation-name: animatetop;
        animation-duration: 1s;
    }

    /* Add Animation */
    @-webkit-keyframes animatetop {
        from {
            top: -300px;
            opacity: 0;
        }
        to {
            top: 0;
            opacity: 1;
        }
    }

    @keyframes animatetop {
        from {
            top: -300px;
            opacity: 0;
        }
        to {
            top: 0;
            opacity: 1;
        }
    }

    /* The Close Button */
    .close {
        color: white;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: #000;
        text-decoration: none;
        cursor: pointer;
    }

    .form-header {
        padding: 5px 16px;
        background-color: #00bad3;
        border-radius: 1%;
    }

    .form-body {
        padding: 2px 16px;
        border-radius: 1%;
    }

    .form-footer {
        padding: 2px 16px;
        background-color: #00bad3;
        color: white;
        border-radius: 1%;
        text-wrap: balance;
    }

    label {
        color: #999999;
    }

    h2 {
        color: rgb(10, 10, 10);
    }

    p {
        margin: 0 0 1rem 0;
    }

    input,
    textarea {
        width: 100%;
        padding: 2px;
        color: black;
        background-color: rgb(211, 211, 211);
    }

    .send {
        font-weight: 700;
        margin: 0;
        padding: 10px 20px;
        border-radius: 15%;
        background-color: rgb(0, 211, 105);
    }

    @media (max-width: 768px) and (orientation: portrait) {
        .form-content {
            margin:1vh 2vw 5vh 2vw;
        }
    }

    @media (max-width: 768px) and (orientation: landscape) {
        .form-content {
            margin:1vh 2vw 5vh 2vw;
        }
    }
</style>
